<div class="mt-4">
  <div class="flex flex-column">
    @for (comment of comments; track $index) {
      <div class="flex">
        <div class="flex flex-column justify-content-between border-round-lg mt-4 px-2">
          <div>
            <span class="mr-2 font-bold">{{ comment.user.username }}</span>
            <small class="text-secondary" style="color: gray">{{ getPassedTime(comment.created_at) }}</small>
          </div>
          <div class="ml-3">
            <div innerHTML="{{ comment.content | safeHtml: securityContext }}"></div>
          </div>
        </div>
        <div class="mt-3" *ngIf="(comment.user.id == currentUserId)">
            <p-button icon="pi pi-trash" [text]="true" (onClick)="deleteComment(comment.id)"  severity="danger"></p-button>
        </div>
      </div>
    }
    @empty {
      <h2 class="text-center">No comments in this post</h2>
    }
  </div>
</div>
